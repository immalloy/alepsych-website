RewriteEngine On
RewriteBase /

# Redirect legacy .html URLs to their PHP equivalents when available
RewriteCond %{REQUEST_URI} ^/(.+)\.html$ [NC]
RewriteCond %{DOCUMENT_ROOT}/%1.php -f
RewriteRule ^(.+)\.html$ /%1.php [R=301,L]

# Allow clean URLs without extensions when a matching .php exists
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{DOCUMENT_ROOT}/$1.php -f
RewriteRule ^(.+)$ $1.php [L]
