/* site/cookbook/giscus_theme.css
/*!
 * Base originally modified from GitHub's Dark Dimmed theme (MIT)
 * Copyright (c) 2018 GitHub Inc.
 * https://github.com/primer/primitives/blob/main/LICENSE
 *
 * This version re-colors + stylizes for ALE Psych Engine Cookbook theme.
 */

main {
  color-scheme: dark;

  /* ---- Your site palette ---- */
  --ale-bg: #131119;
  --ale-surface: #1b1822;
  --ale-surface-strong: #23202b;
  --ale-text: #f5f2fa;
  --ale-muted: #c9c2d7;
  --ale-border: #332e40;
  --ale-accent: #f28b3c;
  --ale-accent-soft: rgba(242, 139, 60, 0.15);
  --ale-accent-2: #8a6cff;
  --ale-accent-2-soft: rgba(138, 108, 255, 0.16);
  --ale-shadow: rgba(9, 7, 14, 0.35);
  --ale-radius: 12px;

  /* ---- Primer mappings (Giscus consumes these) ---- */
  --color-fg-default: var(--ale-text);
  --color-fg-muted: var(--ale-muted);
  --color-fg-subtle: rgba(201, 194, 215, 0.72);

  --color-canvas-default: var(--ale-bg);
  --color-canvas-overlay: var(--ale-surface);
  --color-canvas-inset: var(--ale-bg);
  --color-canvas-subtle: var(--ale-surface-strong);

  --color-border-default: var(--ale-border);
  --color-border-muted: rgba(51, 46, 64, 0.75);
  --color-neutral-muted: rgba(51, 46, 64, 0.55);

  /* Links + accents (orange default, purple on hover/focus) */
  --color-accent-fg: var(--ale-accent);
  --color-accent-emphasis: var(--ale-accent);
  --color-accent-muted: rgba(242, 139, 60, 0.35);
  --color-accent-subtle: var(--ale-accent-soft);

  /* Status */
  --color-success-fg: #57ab5a;
  --color-attention-fg: var(--ale-accent);
  --color-attention-muted: rgba(242, 139, 60, 0.35);
  --color-attention-subtle: var(--ale-accent-soft);
  --color-danger-fg: #e5534b;
  --color-danger-muted: rgba(229, 83, 75, 0.40);
  --color-danger-subtle: rgba(229, 83, 75, 0.14);

  /* Buttons */
  --color-btn-text: var(--ale-text);
  --color-btn-bg: var(--ale-surface-strong);
  --color-btn-border: rgba(51, 46, 64, 0.95);
  --color-btn-shadow: 0 0 #0000;
  --color-btn-inset-shadow: 0 0 #0000;
  --color-btn-hover-bg: rgba(138, 108, 255, 0.12);
  --color-btn-hover-border: rgba(138, 108, 255, 0.55);
  --color-btn-active-bg: rgba(138, 108, 255, 0.16);
  --color-btn-active-border: rgba(138, 108, 255, 0.70);
  --color-btn-selected-bg: rgba(242, 139, 60, 0.12);

  /* Primary action (Comment button) -> purple like your focus accent */
  --color-btn-primary-text: var(--ale-text);
  --color-btn-primary-bg: var(--ale-accent-2);
  --color-btn-primary-border: rgba(138, 108, 255, 0.65);
  --color-btn-primary-shadow: 0 0 #0000;
  --color-btn-primary-inset-shadow: 0 0 #0000;
  --color-btn-primary-hover-bg: #9a83ff;
  --color-btn-primary-hover-border: rgba(154, 131, 255, 0.75);
  --color-btn-primary-selected-bg: #7a5cf0;
  --color-btn-primary-selected-shadow: 0 0 #0000;
  --color-btn-primary-disabled-text: rgba(245, 242, 250, 0.60);
  --color-btn-primary-disabled-bg: rgba(138, 108, 255, 0.45);
  --color-btn-primary-disabled-border: rgba(138, 108, 255, 0.35);

  /* Controls */
  --color-action-list-item-default-hover-bg: rgba(138, 108, 255, 0.12);
  --color-segmented-control-bg: rgba(51, 46, 64, 0.45);
  --color-segmented-control-button-bg: var(--ale-surface-strong);
  --color-segmented-control-button-selected-border: rgba(242, 139, 60, 0.65);

  /* Shadows */
  --color-primer-shadow-inset: 0 0 #0000;

  /* Prettylights (code in markdown) tuned towards your palette */
  --color-prettylights-syntax-comment: rgba(201, 194, 215, 0.70);
  --color-prettylights-syntax-constant: #96d0ff;
  --color-prettylights-syntax-entity: #dcbdfb;
  --color-prettylights-syntax-storage-modifier-import: var(--ale-muted);
  --color-prettylights-syntax-entity-tag: #8ddb8c;
  --color-prettylights-syntax-keyword: var(--ale-accent-2);
  --color-prettylights-syntax-string: #96d0ff;
  --color-prettylights-syntax-variable: var(--ale-accent);
  --color-prettylights-syntax-brackethighlighter-unmatched: #e5534b;
  --color-prettylights-syntax-invalid-illegal-text: var(--ale-text);
  --color-prettylights-syntax-invalid-illegal-bg: rgba(229, 83, 75, 0.25);
  --color-prettylights-syntax-string-regexp: #8ddb8c;
  --color-prettylights-syntax-markup-list: #eac55f;
  --color-prettylights-syntax-markup-heading: var(--ale-accent);
  --color-prettylights-syntax-meta-diff-range: #dcbdfb;

  /* Social reactions hover (keep but match surfaces) */
  --color-social-reaction-bg-hover: var(--ale-surface-strong);
  --color-social-reaction-bg-reacted-hover: rgba(138, 108, 255, 0.18);
}

/* Loader line image can stay, but your background should drive the look */
main .pagination-loader-container {
  background-image: url(https://github.com/images/modules/pulls/progressive-disclosure-line-dark.svg);
}

/* ---- Stylization to match your site (radius, borders, focus) ---- */

/* Keep your existing behavior tweaks */
.gsc-reactions-count { display: none; }
.gsc-timeline { flex-direction: column-reverse; }
.gsc-header { padding-bottom: 1rem; }
.gsc-comments > .gsc-header { order: 1; }
.gsc-comments > .gsc-comment-box { margin-bottom: 1rem; order: 2; }
.gsc-comments > .gsc-timeline { order: 3; }

/* Backgrounds */
.gsc-homepage-bg {
  background-color: var(--ale-bg);
}

/* “Card” feel */
main .gsc-comment-box,
main .gsc-comment,
main .gsc-reply-box,
main .gsc-replies,
main .gsc-pagination {
  background: var(--ale-surface-strong);
  border: 1px solid var(--ale-border);
  border-radius: var(--ale-radius);
}

/* Header and separators */
main .gsc-header,
main .gsc-comment-box-header,
main .gsc-comment-header,
main .gsc-reply-box-header {
  border-color: var(--ale-border) !important;
}

main .gsc-comment-box-separator,
main .gsc-comment-box-bottom,
main .gsc-timeline > .gsc-comment,
main .gsc-timeline > .gsc-reply {
  border-color: var(--ale-border) !important;
}

/* Inputs */
main textarea,
main input[type="text"],
main input[type="search"] {
  background: var(--ale-surface-strong) !important;
  color: var(--ale-text) !important;
  border: 1px solid var(--ale-border) !important;
  border-radius: 10px !important;
}

main textarea:focus,
main input[type="text"]:focus,
main input[type="search"]:focus {
  outline: 2px solid var(--ale-accent-2) !important;
  outline-offset: 2px !important;
  border-color: rgba(138, 108, 255, 0.55) !important;
}

/* Links: orange -> purple on hover (like your site) */
main a {
  color: var(--ale-accent) !important;
  text-decoration: none;
  border-bottom: 1px solid rgba(242, 139, 60, 0.35);
}

main a:hover,
main a:focus-visible {
  color: var(--ale-accent-2) !important;
  border-bottom-color: rgba(138, 108, 255, 0.50);
}

/* Buttons: match your UI (subtle, bordered; primary is purple via vars) */
main button,
main .BtnGroup-item,
main .btn {
  border-radius: 10px !important;
}

/* Code blocks inside comments (match your cookbook surfaces) */
main pre,
main code {
  border-color: var(--ale-border) !important;
}

main pre {
  background: var(--ale-surface-strong) !important;
  border-radius: 10px !important;
}

/* Subtle highlight backgrounds (selected / hovered elements) */
main .Box-row:hover,
main .TimelineItem:hover,
main .gsc-comment:hover {
  background: rgba(138, 108, 255, 0.08) !important;
}

/* Reduce harsh outlines on some GitHub components, keep your focus ring */
main :focus {
  outline-color: var(--ale-accent-2) !important;
}

/* Loading image */
main .gsc-loading-image {
  background-image: url(https://github.githubassets.com/images/mona-loading-dimmed.gif);
  filter: saturate(0.95) contrast(1.05);
}
